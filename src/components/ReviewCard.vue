<template>
  <article class="review-card">
    <article class="review-card__up">
      <p>Clients Satisfaits !</p>
      <h2>
        <LetterFlip word="LES RETOURS" />
      </h2>
    </article>
    <ReviewCarousel @nextSlide="nextSlide" @prevSlide="prevSlide">
      <ReviewCarouselSlide :key="slide" :index="index" :visibleSlide="visibleSlide" :direction="direction" v-for="(slide, index) in reviews">
        <article class="review-card__cite-box">
          <cite>&laquo; {{ slide.textPt1 }}</cite>
          <cite>{{ slide.textPt2 }} &raquo;</cite>
          <h3>{{ slide.author }}</h3>
        </article>
      </ReviewCarouselSlide>
    </ReviewCarousel>
  </article>
</template>

<script>
import ReviewCarousel from "./ReviewCarousel.vue";
import LetterFlip from "./letterFlip.vue";
import ReviewCarouselSlide from "./ReviewCarouselSlide.vue";
export default {
  name: "ReviewCard",
  components: {
    ReviewCarousel,
    ReviewCarouselSlide,
    LetterFlip
  },
  data: () => {
    return {
      reviews: [
        {
          textPt1: "TrÃ¨s heureux du travail de NoÃ©mie.",
          textPt2: "Nous avons d'ailleurs dÃ©cidÃ© de la placer en prioritÃ© dans nos futurs projets de graphisme.",
          author: "Boxing culture",
        },
        {
          textPt1:
            "NoÃ©mie nous a accompagnÃ© dans le cadre de ses Ã©tudes dans la crÃ©ation de contenu de qualitÃ©. Elle nous a aussi rafraichit notre logo pour un look moderne et pro.   Je vous la recommande si vous cherchez quelqu'un de sÃ©rieux et engagÃ© dans vos projets !",
          textPt2: " ExpÃ©rience au top, merci pour ton travail NoÃ©mie.",
          author: "NOLEX",
        },
        {
          textPt1:
            "Nous vous conseillons les yeux fermÃ©s NoÃ©mie, pour sa crÃ©ativitÃ© et sa rÃ©activitÃ© ! NoÃ©mie a su moderniser notre logo, et a Ã©tÃ© Ã  l'Ã©coute de notre besoin.",
          textPt2: "N'hÃ©sitez pas Ã  la contacter pour tous vos projets.",
          author: "BOULANGERIE CHAVES",
        },
        {
          textPt1:
            "J'ai fais appel Ã  NoÃ©mie pour plusieurs choses (cartes, flyers, marque page, vidÃ©o) Et je reviendrais sans souci vers elle. NoÃ©mie est Ã  l'Ã©coute, cerne rapidement vos dÃ©sirs et fait preuve d'un grand professionnalisme.",
          textPt2: "Merci pour tout tes conseils et ton aide prÃ©cieuse ðŸ˜",
          author: "LAETITIA SOPHROLOGIE",
        },
        {
          textPt1:
            "TrÃ¨s bonne collaboration sur le maquettage d'un kit pÃ©dagogique graphique sur les thÃ©matiques du handicap pour le MinistÃ¨re des SolidaritÃ©s et de la SantÃ© en collaboration. Nous avons Ã©tÃ© impressionnÃ© par le travail rÃ©alisÃ© ainsi que l'engagement.  NoÃ©mie est disponible, Ã  l'Ã©coute et ses rendus ont harmonieusement illustrÃ© le kit !",
          textPt2: "Merci pour son aide !!",
          author: "ALLIANCE C",
        },
        {
          textPt1: "Super experience avec NoÃ©mie.",
          textPt2: "Je n'hÃ©siterais pas Ã  retravailler avec elle sur de prochaines missions.",
          author: "CRÃ‰ADIS",
        },
        {
          textPt1: "NoÃ©mie est compÃ©tente et respectueuse des dÃ©lais. ",
          textPt2: "Nous sommes satisfaits de son travail.",
          author: "CODES ROUSSEAU",
        },
      ],
      visibleSlide: 0,
      direction: "right",
      interval: null,
    };
  },
  computed: {
    reviewsLength: function () {
      return this.reviews.length;
    },
  },
  methods: {
    nextSlide: function () {
      this.visibleSlide++;
      this.direction = "right";
      this.interval = null;
      if (this.visibleSlide >= this.reviewsLength) {
        this.visibleSlide = 0;
      }
    },
    prevSlide: function () {
      this.visibleSlide--;
      this.direction = "left";
      this.interval = null;
      if (this.visibleSlide < 0) {
        this.visibleSlide = this.reviewsLength - 1;
      }
    },
  },
  mounted: function () {
    this.interval = setInterval(() => {
      this.nextSlide();
    }, 12000);
  },
};
</script>
